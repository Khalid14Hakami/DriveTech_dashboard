<div class="row m-2 w-100 mt-2 p-0 border rounded">
  <div class="container">
    <form action="" [formGroup]="taskForm" (ngSubmit)="onSubmit()">
      <div class="container" class="d-flex">
        <h1 class="mt-3 fw-bolder col-md-9">New Task Details</h1>
        <div class="col-md-3 align-self-center">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="taskForm.invalid"
          >
            save
          </button>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-6">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Task Name:</mat-label>
            <input matInput formControlName="name" />
          </mat-form-field>
          <div
            *ngIf="nameControl?.invalid && nameControl?.touched"
            class="text-danger"
          >
            *Please Enter the Task Name
          </div>
        </div>
        <div class="form-group col-md-6">
          <mat-checkbox class="example-margin ml-5" formControlName="Picture"
            >Require a Picture</mat-checkbox
          >
          <div *ngIf="PictureControl?.invalid" class="text-danger">
            *Please Select Checkbox
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Repetition (days)</mat-label>
            <input
              type="number"
              formControlName="repetition"
              matInput
              min="1"
            />
          </mat-form-field>
          <div
            *ngIf="repetitionControl?.invalid && repetitionControl?.touched"
            class="text-danger"
          >
            *Please Enter Repetition in days
          </div>
        </div>
        <div class="col-md-3">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Task Type:</mat-label>
            <input matInput formControlName="type" />
          </mat-form-field>
          <div
            *ngIf="typeControl?.invalid && typeControl?.touched"
            class="text-danger"
          >
            *Please Enter the type of Task
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Number of Measure Attribute:</mat-label>
            <input
              type="number"
              formControlName="num_of_attrib"
              min="1"
              matInput
            />
          </mat-form-field>
          <div
            *ngIf="
              num_of_attribControl?.invalid && num_of_attribControl?.touched
            "
            class="text-danger"
          >
            *Please Enter the Number for Attribute
          </div>
        </div>
      </div>
      <div *ngIf="dataSource.length > 0">
        <h3>Warehouse Address:</h3>
        <div class="col-md-6" *ngFor="let item of dataSource">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Attribute {{ item }} Name :</mat-label>
            <input matInput [formControlName]="'num_of_attrib' + item" />
          </mat-form-field>

          <div
            *ngIf="
              this.taskForm.get('num_of_attrib' + item)?.invalid &&
              this.taskForm.get('num_of_attrib' + item)?.touched
            "
            class="text-danger"
          >
            *Please Enter the Attribute Details
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
